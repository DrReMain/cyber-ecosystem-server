// The following two lines are mandatory.
syntax = "proto3";
import "base.proto";

message DepartmentBody {
  optional string id = 1;
  optional int64 created_at = 2;
  optional int64 updated_at = 3;
  optional uint32 sort = 4;

  optional string department_name = 5;
  optional string remark = 7;
  optional string parent_id = 8;
  optional string path = 9;
  optional uint32 level = 10;
  repeated DepartmentBody children = 11;
}

message DepartmentListReq {
  optional uint64 page_no = 1;
  optional uint64 page_size = 2;
}

message DepartmentListRes {
  uint64 page_no = 1;
  uint64 page_size = 2;
  uint64 total = 3;
  bool more = 4;

  repeated DepartmentBody list = 5;
}

service DepartmentService {
  rpc createDepartment (DepartmentBody) returns (BaseIDRes);
  rpc deleteDepartment (IDsReq) returns (BaseRes);
  rpc updateDepartment (DepartmentBody) returns (BaseRes);
  rpc getDepartment (IDReq) returns (DepartmentBody);
  rpc queryDepartment (DepartmentListReq) returns (DepartmentListRes);

}
