// The following two lines are mandatory.
syntax = "proto3";
import "base.proto";

message ResourceBody {
  optional string id = 1;
  optional string method = 4;
  optional string path = 5;
}

message MenuBody {
  optional string id = 1;
  optional int64 created_at = 2;
  optional int64 updated_at = 3;
  optional uint32 status = 4;
  optional uint32 sort = 5;

  optional string title = 6;
  optional string icon = 7;
  optional string code = 8;
  optional string code_path = 9;
  optional string parent_id = 10;
  optional string menu_type = 11;
  optional uint32 level = 13;
  optional string properties = 14;

  repeated ResourceBody resources = 15;
  repeated MenuBody children = 16;
}

message MenuListReq {}

message MenuListRes {
  repeated MenuBody list = 5;
}

message MenuListByRoleCodeReq {
  repeated string role_code = 1;
}

service MenuService {
  rpc createMenu (MenuBody) returns (BaseIDRes);
  rpc deleteMenu (IDsReq) returns (BaseRes);
  rpc updateMenu (MenuBody) returns (BaseRes);
  rpc getMenu (IDReq) returns (MenuBody);
  rpc queryMenu (MenuListReq) returns (MenuListRes);
  rpc queryMenuByRoleCode (MenuListByRoleCodeReq) returns (MenuListRes);

}
